<!--
  Generated template for the UseraccountPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
	<header hideBackButton="true"></header>
</ion-header>

<ion-content class="innerBG" padding>
	<div class="owl-user">
	<ion-grid>
		<ion-row >
			<ion-col col-6>
				<form (submit)="updatePwd()">
					<ion-label class="size">Change Password</ion-label>
					<ion-input type="password" name="currentpassword" [(ngModel)]="userData.user_currentpassword" placeholder="Current password" class="design"></ion-input><br>

					<ion-input type="password" name="user_newpassword" [(ngModel)]="userData.user_newpassword" placeholder="New password" class="design"></ion-input><br>

					<ion-input type="password" name="user_verifypassword" [(ngModel)]="userData.user_verifypassword" placeholder="Verify password" class="design"></ion-input><br>

					<div>
						<button [disabled]= "(userData.user_verifypassword=='') || (userData.user_newpassword=='') || (userData.user_currentpassword=='') || (userData.user_newpassword!=userData.user_verifypassword)" ion-button>update password</button>
						<button ion-button>reset</button>
					</div>
				</form>
			</ion-col>
			<ion-col col-6 >
				<form (submit)="submitForm()">
					<ion-label class="size">Change Username</ion-label>
					<ion-input type="text" [(ngModel)]="current_username" id="username" required minlength="5" maxlength="30" name="username" #username="ngModel" class="design"></ion-input><br>
					<div *ngIf="username.errors && (username.dirty || username.touched)">
						<div [hidden]="!username.errors.required">
                          User Name is required!
                        </div>
                       <div [hidden]="!username.errors.minlength">
                        UserName  must be at least 5 characters long.
                       </div>
                       <div [hidden]="!username.errors.maxlength">
                       UserName cannot be more than 30 characters long.
                       </div>
                   </div>
					<button ion-button [disabled]="current_username=='' || username.errors">update username</button>
					<button ion-button>Reset</button>
				</form>
			</ion-col>
		</ion-row>
	</ion-grid>
	<br>
	<div class="center" style="font-size: 23px;">User Preferences</div>
	<br>
	<br>
	<br>
	<ion-grid>
		<ion-row>
			<ion-col>
				<ion-item class="design" style="background-color: transparent;">
					<ion-label> Subscripted email</ion-label>
					<ion-toggle [(ngModel)]="turn.mail" [checked]="turn.mail" (click)="notify()"></ion-toggle>
				</ion-item>
			</ion-col>
			<ion-col>
				<ion-item class="design" style="background-color: transparent;">
					<ion-label>Keep my account Activated or deactivated</ion-label>
					<ion-toggle [checked]="turn.active" [(ngModel)]="turn.active" (click)="notify()"></ion-toggle>
				</ion-item>
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col>
				<ion-item class="design" style="background-color: transparent;">
					<ion-label>Messages</ion-label>
					<ion-toggle [checked]="turn.msg" [(ngModel)]="turn.msg" (click)="notify()"></ion-toggle>
				</ion-item>
			</ion-col>
			<ion-col></ion-col>
		</ion-row>
		<ion-row>
			<ion-col>
				<ion-item class="design" style="background-color: transparent;">
					<ion-label>I will like to receive calls</ion-label>
					<ion-toggle [checked]="turn.call" [(ngModel)]="turn.call" (click)="notify()"></ion-toggle>
				</ion-item>
			</ion-col>
			<ion-col>
				<ion-item class="design" style="background-color: transparent;">
					<ion-label>Select Theme</ion-label>
					<ion-toggle [checked]="turn.theme" [(ngModel)]="turn.theme" (click)="notify()"></ion-toggle>
				</ion-item>
			</ion-col>
			
		</ion-row>
	</ion-grid>
	<div class="center">
		<button ion-button (click)="updatePreference()" [disabled]="change">Update Preferences</button>
	</div>
</div>
	<div class="footer">
		<in-news></in-news>
		<footer></footer>
	</div>
</ion-content>

